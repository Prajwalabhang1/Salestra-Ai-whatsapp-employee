"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_lib_export-utils_ts";
exports.ids = ["_ssr_lib_export-utils_ts"];
exports.modules = {

/***/ "(ssr)/./lib/export-utils.ts":
/*!*****************************!*\
  !*** ./lib/export-utils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exportToCSV: () => (/* binding */ exportToCSV),\n/* harmony export */   exportToPDF: () => (/* binding */ exportToPDF)\n/* harmony export */ });\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jspdf */ \"(ssr)/./node_modules/jspdf/dist/jspdf.node.min.js\");\n/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jspdf-autotable */ \"(ssr)/./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.mjs\");\n/**\r\n * Export Utilities - CSV and PDF Generation\r\n * Professional dashboard export with multiple formats\r\n */ \n\nfunction exportToCSV(dashboardData, timeRange) {\n    try {\n        const csvLines = [];\n        // Header\n        csvLines.push(\"Salestra Dashboard Export\");\n        csvLines.push(`Business: ${dashboardData.businessName || \"N/A\"}`);\n        csvLines.push(`Date: ${new Date().toLocaleString()}`);\n        csvLines.push(`Time Range: ${timeRange}`);\n        csvLines.push(\"\");\n        // Metrics\n        csvLines.push(\"METRICS\");\n        csvLines.push(\"Metric,Today,Change\");\n        csvLines.push(`Conversations,${dashboardData.metrics?.conversations?.today || 0},${dashboardData.metrics?.conversations?.change || 0}`);\n        csvLines.push(`Leads Captured,${dashboardData.metrics?.leads?.today || 0},${dashboardData.metrics?.leads?.change || 0}`);\n        csvLines.push(`Messages,${dashboardData.metrics?.productsAsked?.today || 0},${dashboardData.metrics?.productsAsked?.change || 0}`);\n        csvLines.push(`Avg Response Time,${dashboardData.metrics?.avgResponse?.today || 0}s,${dashboardData.metrics?.avgResponse?.change || 0}s`);\n        csvLines.push(\"\");\n        // Recent conversations\n        csvLines.push(\"RECENT CONVERSATIONS\");\n        csvLines.push(\"Customer,Message,AI Reply,Time,Status\");\n        dashboardData.recentConversations?.forEach((conv)=>{\n            const message = conv.message?.replace(/,/g, \";\") || \"\";\n            const reply = conv.reply?.replace(/,/g, \";\") || \"\";\n            csvLines.push(`${conv.customerName},${message},${reply},${conv.time},${conv.status}`);\n        });\n        csvLines.push(\"\");\n        // Chart data\n        if (dashboardData.charts?.messageVolume) {\n            csvLines.push(\"MESSAGE VOLUME (7 DAYS)\");\n            csvLines.push(\"Day,Messages\");\n            dashboardData.charts.messageVolume.forEach((item)=>{\n                csvLines.push(`${item.day},${item.messages}`);\n            });\n            csvLines.push(\"\");\n        }\n        if (dashboardData.charts?.peakHours) {\n            csvLines.push(\"PEAK HOURS\");\n            csvLines.push(\"Hour,Count\");\n            dashboardData.charts.peakHours.forEach((item)=>{\n                csvLines.push(`${item.hour},${item.count}`);\n            });\n        }\n        // Create and download\n        const csvContent = csvLines.join(\"\\n\");\n        const blob = new Blob([\n            csvContent\n        ], {\n            type: \"text/csv;charset=utf-8;\"\n        });\n        downloadFile(blob, `salestra-dashboard-${new Date().toISOString().split(\"T\")[0]}.csv`);\n        return true;\n    } catch (error) {\n        console.error(\"CSV export error:\", error);\n        return false;\n    }\n}\nfunction exportToPDF(dashboardData, timeRange) {\n    try {\n        const doc = new jspdf__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        // Title and Header\n        doc.setFontSize(20);\n        doc.setTextColor(16, 185, 129) // Emerald color\n        ;\n        doc.text(\"Salestra Dashboard Report\", 20, 20);\n        doc.setFontSize(10);\n        doc.setTextColor(100, 100, 100);\n        doc.text(`Business: ${dashboardData.businessName || \"N/A\"}`, 20, 30);\n        doc.text(`Generated: ${new Date().toLocaleString()}`, 20, 36);\n        doc.text(`Time Range: ${timeRange}`, 20, 42);\n        // Metrics Section\n        doc.setFontSize(14);\n        doc.setTextColor(0, 0, 0);\n        doc.text(\"Key Metrics\", 20, 55);\n        const metricsData = [\n            [\n                \"Metric\",\n                \"Today\",\n                \"Change\"\n            ],\n            [\n                \"Conversations\",\n                String(dashboardData.metrics?.conversations?.today || 0),\n                String(dashboardData.metrics?.conversations?.change || 0)\n            ],\n            [\n                \"Leads Captured\",\n                String(dashboardData.metrics?.leads?.today || 0),\n                String(dashboardData.metrics?.leads?.change || 0)\n            ],\n            [\n                \"Messages\",\n                String(dashboardData.metrics?.productsAsked?.today || 0),\n                String(dashboardData.metrics?.productsAsked?.change || 0)\n            ],\n            [\n                \"Avg Response Time\",\n                `${dashboardData.metrics?.avgResponse?.today || \"0\"}s`,\n                `${dashboardData.metrics?.avgResponse?.change || \"0\"}s`\n            ]\n        ];\n        (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(doc, {\n            head: [\n                metricsData[0]\n            ],\n            body: metricsData.slice(1),\n            startY: 60,\n            theme: \"grid\",\n            headStyles: {\n                fillColor: [\n                    16,\n                    185,\n                    129\n                ]\n            },\n            styles: {\n                fontSize: 10\n            }\n        });\n        // Message Volume Chart Data\n        if (dashboardData.charts?.messageVolume && dashboardData.charts.messageVolume.length > 0) {\n            const finalY = doc.lastAutoTable.finalY || 100;\n            doc.setFontSize(14);\n            doc.text(\"7-Day Message Volume\", 20, finalY + 15);\n            const volumeData = [\n                [\n                    \"Day\",\n                    \"Messages\"\n                ],\n                ...dashboardData.charts.messageVolume.map((item)=>[\n                        item.day,\n                        String(item.messages)\n                    ])\n            ];\n            (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(doc, {\n                head: [\n                    volumeData[0]\n                ],\n                body: volumeData.slice(1),\n                startY: finalY + 20,\n                theme: \"striped\",\n                headStyles: {\n                    fillColor: [\n                        16,\n                        185,\n                        129\n                    ]\n                },\n                styles: {\n                    fontSize: 10\n                }\n            });\n        }\n        // Peak Hours\n        if (dashboardData.charts?.peakHours && dashboardData.charts.peakHours.length > 0) {\n            const finalY = doc.lastAutoTable.finalY || 150;\n            doc.setFontSize(14);\n            doc.text(\"Peak Hours Distribution\", 20, finalY + 15);\n            const peakData = [\n                [\n                    \"Hour\",\n                    \"Message Count\"\n                ],\n                ...dashboardData.charts.peakHours.map((item)=>[\n                        item.hour,\n                        String(item.count)\n                    ])\n            ];\n            (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(doc, {\n                head: [\n                    peakData[0]\n                ],\n                body: peakData.slice(1),\n                startY: finalY + 20,\n                theme: \"striped\",\n                headStyles: {\n                    fillColor: [\n                        16,\n                        185,\n                        129\n                    ]\n                },\n                styles: {\n                    fontSize: 10\n                }\n            });\n        }\n        // Recent Conversations (new page if needed)\n        if (dashboardData.recentConversations && dashboardData.recentConversations.length > 0) {\n            doc.addPage();\n            doc.setFontSize(14);\n            doc.text(\"Recent Conversations\", 20, 20);\n            const conversationsData = [\n                [\n                    \"Customer\",\n                    \"Message\",\n                    \"AI Reply\",\n                    \"Time\"\n                ],\n                ...dashboardData.recentConversations.slice(0, 10).map((conv)=>[\n                        conv.customerName,\n                        conv.message.substring(0, 50) + (conv.message.length > 50 ? \"...\" : \"\"),\n                        conv.reply.substring(0, 50) + (conv.reply.length > 50 ? \"...\" : \"\"),\n                        conv.time\n                    ])\n            ];\n            (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(doc, {\n                head: [\n                    conversationsData[0]\n                ],\n                body: conversationsData.slice(1),\n                startY: 25,\n                theme: \"grid\",\n                headStyles: {\n                    fillColor: [\n                        16,\n                        185,\n                        129\n                    ]\n                },\n                styles: {\n                    fontSize: 8,\n                    cellPadding: 2\n                },\n                columnStyles: {\n                    0: {\n                        cellWidth: 30\n                    },\n                    1: {\n                        cellWidth: 60\n                    },\n                    2: {\n                        cellWidth: 60\n                    },\n                    3: {\n                        cellWidth: 30\n                    }\n                }\n            });\n        }\n        // Footer on all pages\n        const pageCount = doc.getNumberOfPages();\n        for(let i = 1; i <= pageCount; i++){\n            doc.setPage(i);\n            doc.setFontSize(8);\n            doc.setTextColor(150, 150, 150);\n            doc.text(`Page ${i} of ${pageCount} â€¢ Powered by Salestra`, doc.internal.pageSize.width / 2, doc.internal.pageSize.height - 10, {\n                align: \"center\"\n            });\n        }\n        // Save PDF\n        doc.save(`salestra-dashboard-${new Date().toISOString().split(\"T\")[0]}.pdf`);\n        return true;\n    } catch (error) {\n        console.error(\"PDF export error:\", error);\n        return false;\n    }\n}\nfunction downloadFile(blob, filename) {\n    const link = document.createElement(\"a\");\n    const url = URL.createObjectURL(blob);\n    link.href = url;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvZXhwb3J0LXV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFd0I7QUFDYztBQXVCaEMsU0FBU0UsWUFBWUMsYUFBNEIsRUFBRUMsU0FBaUI7SUFDdkUsSUFBSTtRQUNBLE1BQU1DLFdBQVcsRUFBRTtRQUVuQixTQUFTO1FBQ1RBLFNBQVNDLElBQUksQ0FBQztRQUNkRCxTQUFTQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUVILGNBQWNJLFlBQVksSUFBSSxNQUFNLENBQUM7UUFDaEVGLFNBQVNDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJRSxPQUFPQyxjQUFjLEdBQUcsQ0FBQztRQUNwREosU0FBU0MsSUFBSSxDQUFDLENBQUMsWUFBWSxFQUFFRixVQUFVLENBQUM7UUFDeENDLFNBQVNDLElBQUksQ0FBQztRQUVkLFVBQVU7UUFDVkQsU0FBU0MsSUFBSSxDQUFDO1FBQ2RELFNBQVNDLElBQUksQ0FBQztRQUNkRCxTQUFTQyxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUVILGNBQWNPLE9BQU8sRUFBRUMsZUFBZUMsU0FBUyxFQUFFLENBQUMsRUFBRVQsY0FBY08sT0FBTyxFQUFFQyxlQUFlRSxVQUFVLEVBQUUsQ0FBQztRQUN0SVIsU0FBU0MsSUFBSSxDQUFDLENBQUMsZUFBZSxFQUFFSCxjQUFjTyxPQUFPLEVBQUVJLE9BQU9GLFNBQVMsRUFBRSxDQUFDLEVBQUVULGNBQWNPLE9BQU8sRUFBRUksT0FBT0QsVUFBVSxFQUFFLENBQUM7UUFDdkhSLFNBQVNDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUgsY0FBY08sT0FBTyxFQUFFSyxlQUFlSCxTQUFTLEVBQUUsQ0FBQyxFQUFFVCxjQUFjTyxPQUFPLEVBQUVLLGVBQWVGLFVBQVUsRUFBRSxDQUFDO1FBQ2pJUixTQUFTQyxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUgsY0FBY08sT0FBTyxFQUFFTSxhQUFhSixTQUFTLEVBQUUsRUFBRSxFQUFFVCxjQUFjTyxPQUFPLEVBQUVNLGFBQWFILFVBQVUsRUFBRSxDQUFDLENBQUM7UUFDeElSLFNBQVNDLElBQUksQ0FBQztRQUVkLHVCQUF1QjtRQUN2QkQsU0FBU0MsSUFBSSxDQUFDO1FBQ2RELFNBQVNDLElBQUksQ0FBQztRQUNkSCxjQUFjYyxtQkFBbUIsRUFBRUMsUUFBUSxDQUFDQztZQUN4QyxNQUFNQyxVQUFVRCxLQUFLQyxPQUFPLEVBQUVDLFFBQVEsTUFBTSxRQUFRO1lBQ3BELE1BQU1DLFFBQVFILEtBQUtHLEtBQUssRUFBRUQsUUFBUSxNQUFNLFFBQVE7WUFDaERoQixTQUFTQyxJQUFJLENBQUMsQ0FBQyxFQUFFYSxLQUFLSSxZQUFZLENBQUMsQ0FBQyxFQUFFSCxRQUFRLENBQUMsRUFBRUUsTUFBTSxDQUFDLEVBQUVILEtBQUtLLElBQUksQ0FBQyxDQUFDLEVBQUVMLEtBQUtNLE1BQU0sQ0FBQyxDQUFDO1FBQ3hGO1FBQ0FwQixTQUFTQyxJQUFJLENBQUM7UUFFZCxhQUFhO1FBQ2IsSUFBSUgsY0FBY3VCLE1BQU0sRUFBRUMsZUFBZTtZQUNyQ3RCLFNBQVNDLElBQUksQ0FBQztZQUNkRCxTQUFTQyxJQUFJLENBQUM7WUFDZEgsY0FBY3VCLE1BQU0sQ0FBQ0MsYUFBYSxDQUFDVCxPQUFPLENBQUMsQ0FBQ1U7Z0JBQ3hDdkIsU0FBU0MsSUFBSSxDQUFDLENBQUMsRUFBRXNCLEtBQUtDLEdBQUcsQ0FBQyxDQUFDLEVBQUVELEtBQUtFLFFBQVEsQ0FBQyxDQUFDO1lBQ2hEO1lBQ0F6QixTQUFTQyxJQUFJLENBQUM7UUFDbEI7UUFFQSxJQUFJSCxjQUFjdUIsTUFBTSxFQUFFSyxXQUFXO1lBQ2pDMUIsU0FBU0MsSUFBSSxDQUFDO1lBQ2RELFNBQVNDLElBQUksQ0FBQztZQUNkSCxjQUFjdUIsTUFBTSxDQUFDSyxTQUFTLENBQUNiLE9BQU8sQ0FBQyxDQUFDVTtnQkFDcEN2QixTQUFTQyxJQUFJLENBQUMsQ0FBQyxFQUFFc0IsS0FBS0ksSUFBSSxDQUFDLENBQUMsRUFBRUosS0FBS0ssS0FBSyxDQUFDLENBQUM7WUFDOUM7UUFDSjtRQUVBLHNCQUFzQjtRQUN0QixNQUFNQyxhQUFhN0IsU0FBUzhCLElBQUksQ0FBQztRQUNqQyxNQUFNQyxPQUFPLElBQUlDLEtBQUs7WUFBQ0g7U0FBVyxFQUFFO1lBQUVJLE1BQU07UUFBMEI7UUFDdEVDLGFBQWFILE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxJQUFJNUIsT0FBT2dDLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO1FBRXJGLE9BQU87SUFDWCxFQUFFLE9BQU9DLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBTztJQUNYO0FBQ0o7QUFFTyxTQUFTRSxZQUFZekMsYUFBNEIsRUFBRUMsU0FBaUI7SUFDdkUsSUFBSTtRQUNBLE1BQU15QyxNQUFNLElBQUk3Qyw2Q0FBS0E7UUFFckIsbUJBQW1CO1FBQ25CNkMsSUFBSUMsV0FBVyxDQUFDO1FBQ2hCRCxJQUFJRSxZQUFZLENBQUMsSUFBSSxLQUFLLEtBQUssZ0JBQWdCOztRQUMvQ0YsSUFBSUcsSUFBSSxDQUFDLDZCQUE2QixJQUFJO1FBRTFDSCxJQUFJQyxXQUFXLENBQUM7UUFDaEJELElBQUlFLFlBQVksQ0FBQyxLQUFLLEtBQUs7UUFDM0JGLElBQUlHLElBQUksQ0FBQyxDQUFDLFVBQVUsRUFBRTdDLGNBQWNJLFlBQVksSUFBSSxNQUFNLENBQUMsRUFBRSxJQUFJO1FBQ2pFc0MsSUFBSUcsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLElBQUl4QyxPQUFPQyxjQUFjLEdBQUcsQ0FBQyxFQUFFLElBQUk7UUFDMURvQyxJQUFJRyxJQUFJLENBQUMsQ0FBQyxZQUFZLEVBQUU1QyxVQUFVLENBQUMsRUFBRSxJQUFJO1FBRXpDLGtCQUFrQjtRQUNsQnlDLElBQUlDLFdBQVcsQ0FBQztRQUNoQkQsSUFBSUUsWUFBWSxDQUFDLEdBQUcsR0FBRztRQUN2QkYsSUFBSUcsSUFBSSxDQUFDLGVBQWUsSUFBSTtRQUU1QixNQUFNQyxjQUFjO1lBQ2hCO2dCQUFDO2dCQUFVO2dCQUFTO2FBQVM7WUFDN0I7Z0JBQUM7Z0JBQ0dDLE9BQU8vQyxjQUFjTyxPQUFPLEVBQUVDLGVBQWVDLFNBQVM7Z0JBQ3REc0MsT0FBTy9DLGNBQWNPLE9BQU8sRUFBRUMsZUFBZUUsVUFBVTthQUMxRDtZQUNEO2dCQUFDO2dCQUNHcUMsT0FBTy9DLGNBQWNPLE9BQU8sRUFBRUksT0FBT0YsU0FBUztnQkFDOUNzQyxPQUFPL0MsY0FBY08sT0FBTyxFQUFFSSxPQUFPRCxVQUFVO2FBQ2xEO1lBQ0Q7Z0JBQUM7Z0JBQ0dxQyxPQUFPL0MsY0FBY08sT0FBTyxFQUFFSyxlQUFlSCxTQUFTO2dCQUN0RHNDLE9BQU8vQyxjQUFjTyxPQUFPLEVBQUVLLGVBQWVGLFVBQVU7YUFDMUQ7WUFDRDtnQkFBQztnQkFDRyxDQUFDLEVBQUVWLGNBQWNPLE9BQU8sRUFBRU0sYUFBYUosU0FBUyxJQUFJLENBQUMsQ0FBQztnQkFDdEQsQ0FBQyxFQUFFVCxjQUFjTyxPQUFPLEVBQUVNLGFBQWFILFVBQVUsSUFBSSxDQUFDLENBQUM7YUFDMUQ7U0FDSjtRQUVEWiwyREFBU0EsQ0FBQzRDLEtBQUs7WUFDWE0sTUFBTTtnQkFBQ0YsV0FBVyxDQUFDLEVBQUU7YUFBQztZQUN0QkcsTUFBTUgsWUFBWUksS0FBSyxDQUFDO1lBQ3hCQyxRQUFRO1lBQ1JDLE9BQU87WUFDUEMsWUFBWTtnQkFBRUMsV0FBVztvQkFBQztvQkFBSTtvQkFBSztpQkFBSTtZQUFDO1lBQ3hDQyxRQUFRO2dCQUFFQyxVQUFVO1lBQUc7UUFDM0I7UUFFQSw0QkFBNEI7UUFDNUIsSUFBSXhELGNBQWN1QixNQUFNLEVBQUVDLGlCQUFpQnhCLGNBQWN1QixNQUFNLENBQUNDLGFBQWEsQ0FBQ2lDLE1BQU0sR0FBRyxHQUFHO1lBQ3RGLE1BQU1DLFNBQVMsSUFBYUMsYUFBYSxDQUFDRCxNQUFNLElBQUk7WUFFcERoQixJQUFJQyxXQUFXLENBQUM7WUFDaEJELElBQUlHLElBQUksQ0FBQyx3QkFBd0IsSUFBSWEsU0FBUztZQUU5QyxNQUFNRSxhQUFhO2dCQUNmO29CQUFDO29CQUFPO2lCQUFXO21CQUNoQjVELGNBQWN1QixNQUFNLENBQUNDLGFBQWEsQ0FBQ3FDLEdBQUcsQ0FBQ3BDLENBQUFBLE9BQVE7d0JBQzlDQSxLQUFLQyxHQUFHO3dCQUNScUIsT0FBT3RCLEtBQUtFLFFBQVE7cUJBQ3ZCO2FBQ0o7WUFFRDdCLDJEQUFTQSxDQUFDNEMsS0FBSztnQkFDWE0sTUFBTTtvQkFBQ1ksVUFBVSxDQUFDLEVBQUU7aUJBQUM7Z0JBQ3JCWCxNQUFNVyxXQUFXVixLQUFLLENBQUM7Z0JBQ3ZCQyxRQUFRTyxTQUFTO2dCQUNqQk4sT0FBTztnQkFDUEMsWUFBWTtvQkFBRUMsV0FBVzt3QkFBQzt3QkFBSTt3QkFBSztxQkFBSTtnQkFBQztnQkFDeENDLFFBQVE7b0JBQUVDLFVBQVU7Z0JBQUc7WUFDM0I7UUFDSjtRQUVBLGFBQWE7UUFDYixJQUFJeEQsY0FBY3VCLE1BQU0sRUFBRUssYUFBYTVCLGNBQWN1QixNQUFNLENBQUNLLFNBQVMsQ0FBQzZCLE1BQU0sR0FBRyxHQUFHO1lBQzlFLE1BQU1DLFNBQVMsSUFBYUMsYUFBYSxDQUFDRCxNQUFNLElBQUk7WUFFcERoQixJQUFJQyxXQUFXLENBQUM7WUFDaEJELElBQUlHLElBQUksQ0FBQywyQkFBMkIsSUFBSWEsU0FBUztZQUVqRCxNQUFNSSxXQUFXO2dCQUNiO29CQUFDO29CQUFRO2lCQUFnQjttQkFDdEI5RCxjQUFjdUIsTUFBTSxDQUFDSyxTQUFTLENBQUNpQyxHQUFHLENBQUNwQyxDQUFBQSxPQUFRO3dCQUMxQ0EsS0FBS0ksSUFBSTt3QkFDVGtCLE9BQU90QixLQUFLSyxLQUFLO3FCQUNwQjthQUNKO1lBRURoQywyREFBU0EsQ0FBQzRDLEtBQUs7Z0JBQ1hNLE1BQU07b0JBQUNjLFFBQVEsQ0FBQyxFQUFFO2lCQUFDO2dCQUNuQmIsTUFBTWEsU0FBU1osS0FBSyxDQUFDO2dCQUNyQkMsUUFBUU8sU0FBUztnQkFDakJOLE9BQU87Z0JBQ1BDLFlBQVk7b0JBQUVDLFdBQVc7d0JBQUM7d0JBQUk7d0JBQUs7cUJBQUk7Z0JBQUM7Z0JBQ3hDQyxRQUFRO29CQUFFQyxVQUFVO2dCQUFHO1lBQzNCO1FBQ0o7UUFFQSw0Q0FBNEM7UUFDNUMsSUFBSXhELGNBQWNjLG1CQUFtQixJQUFJZCxjQUFjYyxtQkFBbUIsQ0FBQzJDLE1BQU0sR0FBRyxHQUFHO1lBQ25GZixJQUFJcUIsT0FBTztZQUVYckIsSUFBSUMsV0FBVyxDQUFDO1lBQ2hCRCxJQUFJRyxJQUFJLENBQUMsd0JBQXdCLElBQUk7WUFFckMsTUFBTW1CLG9CQUFvQjtnQkFDdEI7b0JBQUM7b0JBQVk7b0JBQVc7b0JBQVk7aUJBQU87bUJBQ3hDaEUsY0FBY2MsbUJBQW1CLENBQUNvQyxLQUFLLENBQUMsR0FBRyxJQUFJVyxHQUFHLENBQUM3QyxDQUFBQSxPQUFRO3dCQUMxREEsS0FBS0ksWUFBWTt3QkFDakJKLEtBQUtDLE9BQU8sQ0FBQ2dELFNBQVMsQ0FBQyxHQUFHLE1BQU9qRCxDQUFBQSxLQUFLQyxPQUFPLENBQUN3QyxNQUFNLEdBQUcsS0FBSyxRQUFRLEVBQUM7d0JBQ3JFekMsS0FBS0csS0FBSyxDQUFDOEMsU0FBUyxDQUFDLEdBQUcsTUFBT2pELENBQUFBLEtBQUtHLEtBQUssQ0FBQ3NDLE1BQU0sR0FBRyxLQUFLLFFBQVEsRUFBQzt3QkFDakV6QyxLQUFLSyxJQUFJO3FCQUNaO2FBQ0o7WUFFRHZCLDJEQUFTQSxDQUFDNEMsS0FBSztnQkFDWE0sTUFBTTtvQkFBQ2dCLGlCQUFpQixDQUFDLEVBQUU7aUJBQUM7Z0JBQzVCZixNQUFNZSxrQkFBa0JkLEtBQUssQ0FBQztnQkFDOUJDLFFBQVE7Z0JBQ1JDLE9BQU87Z0JBQ1BDLFlBQVk7b0JBQUVDLFdBQVc7d0JBQUM7d0JBQUk7d0JBQUs7cUJBQUk7Z0JBQUM7Z0JBQ3hDQyxRQUFRO29CQUFFQyxVQUFVO29CQUFHVSxhQUFhO2dCQUFFO2dCQUN0Q0MsY0FBYztvQkFDVixHQUFHO3dCQUFFQyxXQUFXO29CQUFHO29CQUNuQixHQUFHO3dCQUFFQSxXQUFXO29CQUFHO29CQUNuQixHQUFHO3dCQUFFQSxXQUFXO29CQUFHO29CQUNuQixHQUFHO3dCQUFFQSxXQUFXO29CQUFHO2dCQUN2QjtZQUNKO1FBQ0o7UUFFQSxzQkFBc0I7UUFDdEIsTUFBTUMsWUFBWTNCLElBQUk0QixnQkFBZ0I7UUFDdEMsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLEtBQUtGLFdBQVdFLElBQUs7WUFDakM3QixJQUFJOEIsT0FBTyxDQUFDRDtZQUNaN0IsSUFBSUMsV0FBVyxDQUFDO1lBQ2hCRCxJQUFJRSxZQUFZLENBQUMsS0FBSyxLQUFLO1lBQzNCRixJQUFJRyxJQUFJLENBQ0osQ0FBQyxLQUFLLEVBQUUwQixFQUFFLElBQUksRUFBRUYsVUFBVSxzQkFBc0IsQ0FBQyxFQUNqRDNCLElBQUkrQixRQUFRLENBQUNDLFFBQVEsQ0FBQ0MsS0FBSyxHQUFHLEdBQzlCakMsSUFBSStCLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDRSxNQUFNLEdBQUcsSUFDL0I7Z0JBQUVDLE9BQU87WUFBUztRQUUxQjtRQUVBLFdBQVc7UUFDWG5DLElBQUlvQyxJQUFJLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJekUsT0FBT2dDLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO1FBRTNFLE9BQU87SUFDWCxFQUFFLE9BQU9DLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBTztJQUNYO0FBQ0o7QUFFQSxTQUFTSCxhQUFhSCxJQUFVLEVBQUU4QyxRQUFnQjtJQUM5QyxNQUFNQyxPQUFPQyxTQUFTQyxhQUFhLENBQUM7SUFDcEMsTUFBTUMsTUFBTUMsSUFBSUMsZUFBZSxDQUFDcEQ7SUFDaEMrQyxLQUFLTSxJQUFJLEdBQUdIO0lBQ1pILEtBQUtPLFFBQVEsR0FBR1I7SUFDaEJFLFNBQVNoQyxJQUFJLENBQUN1QyxXQUFXLENBQUNSO0lBQzFCQSxLQUFLUyxLQUFLO0lBQ1ZSLFNBQVNoQyxJQUFJLENBQUN5QyxXQUFXLENBQUNWO0lBQzFCSSxJQUFJTyxlQUFlLENBQUNSO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FsZXN0cmEtZnJvbnRlbmQvLi9saWIvZXhwb3J0LXV0aWxzLnRzPzEwZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEV4cG9ydCBVdGlsaXRpZXMgLSBDU1YgYW5kIFBERiBHZW5lcmF0aW9uXHJcbiAqIFByb2Zlc3Npb25hbCBkYXNoYm9hcmQgZXhwb3J0IHdpdGggbXVsdGlwbGUgZm9ybWF0c1xyXG4gKi9cclxuXHJcbmltcG9ydCBqc1BERiBmcm9tICdqc3BkZidcclxuaW1wb3J0IGF1dG9UYWJsZSBmcm9tICdqc3BkZi1hdXRvdGFibGUnXHJcblxyXG5pbnRlcmZhY2UgRGFzaGJvYXJkRGF0YSB7XHJcbiAgICBidXNpbmVzc05hbWU/OiBzdHJpbmdcclxuICAgIG1ldHJpY3M/OiB7XHJcbiAgICAgICAgY29udmVyc2F0aW9ucz86IHsgdG9kYXk6IG51bWJlcjsgY2hhbmdlOiBudW1iZXIgfVxyXG4gICAgICAgIGxlYWRzPzogeyB0b2RheTogbnVtYmVyOyBjaGFuZ2U6IG51bWJlciB9XHJcbiAgICAgICAgcHJvZHVjdHNBc2tlZD86IHsgdG9kYXk6IG51bWJlcjsgY2hhbmdlOiBudW1iZXIgfVxyXG4gICAgICAgIGF2Z1Jlc3BvbnNlPzogeyB0b2RheTogc3RyaW5nOyBjaGFuZ2U6IHN0cmluZyB9XHJcbiAgICB9XHJcbiAgICByZWNlbnRDb252ZXJzYXRpb25zPzogQXJyYXk8e1xyXG4gICAgICAgIGN1c3RvbWVyTmFtZTogc3RyaW5nXHJcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nXHJcbiAgICAgICAgcmVwbHk6IHN0cmluZ1xyXG4gICAgICAgIHRpbWU6IHN0cmluZ1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nXHJcbiAgICB9PlxyXG4gICAgY2hhcnRzPzoge1xyXG4gICAgICAgIG1lc3NhZ2VWb2x1bWU/OiBBcnJheTx7IGRheTogc3RyaW5nOyBtZXNzYWdlczogbnVtYmVyIH0+XHJcbiAgICAgICAgcGVha0hvdXJzPzogQXJyYXk8eyBob3VyOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfT5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFRvQ1NWKGRhc2hib2FyZERhdGE6IERhc2hib2FyZERhdGEsIHRpbWVSYW5nZTogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNzdkxpbmVzID0gW11cclxuXHJcbiAgICAgICAgLy8gSGVhZGVyXHJcbiAgICAgICAgY3N2TGluZXMucHVzaCgnU2FsZXN0cmEgRGFzaGJvYXJkIEV4cG9ydCcpXHJcbiAgICAgICAgY3N2TGluZXMucHVzaChgQnVzaW5lc3M6ICR7ZGFzaGJvYXJkRGF0YS5idXNpbmVzc05hbWUgfHwgJ04vQSd9YClcclxuICAgICAgICBjc3ZMaW5lcy5wdXNoKGBEYXRlOiAke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1gKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goYFRpbWUgUmFuZ2U6ICR7dGltZVJhbmdlfWApXHJcbiAgICAgICAgY3N2TGluZXMucHVzaCgnJylcclxuXHJcbiAgICAgICAgLy8gTWV0cmljc1xyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goJ01FVFJJQ1MnKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goJ01ldHJpYyxUb2RheSxDaGFuZ2UnKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goYENvbnZlcnNhdGlvbnMsJHtkYXNoYm9hcmREYXRhLm1ldHJpY3M/LmNvbnZlcnNhdGlvbnM/LnRvZGF5IHx8IDB9LCR7ZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5jb252ZXJzYXRpb25zPy5jaGFuZ2UgfHwgMH1gKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goYExlYWRzIENhcHR1cmVkLCR7ZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5sZWFkcz8udG9kYXkgfHwgMH0sJHtkYXNoYm9hcmREYXRhLm1ldHJpY3M/LmxlYWRzPy5jaGFuZ2UgfHwgMH1gKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goYE1lc3NhZ2VzLCR7ZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5wcm9kdWN0c0Fza2VkPy50b2RheSB8fCAwfSwke2Rhc2hib2FyZERhdGEubWV0cmljcz8ucHJvZHVjdHNBc2tlZD8uY2hhbmdlIHx8IDB9YClcclxuICAgICAgICBjc3ZMaW5lcy5wdXNoKGBBdmcgUmVzcG9uc2UgVGltZSwke2Rhc2hib2FyZERhdGEubWV0cmljcz8uYXZnUmVzcG9uc2U/LnRvZGF5IHx8IDB9cywke2Rhc2hib2FyZERhdGEubWV0cmljcz8uYXZnUmVzcG9uc2U/LmNoYW5nZSB8fCAwfXNgKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goJycpXHJcblxyXG4gICAgICAgIC8vIFJlY2VudCBjb252ZXJzYXRpb25zXHJcbiAgICAgICAgY3N2TGluZXMucHVzaCgnUkVDRU5UIENPTlZFUlNBVElPTlMnKVxyXG4gICAgICAgIGNzdkxpbmVzLnB1c2goJ0N1c3RvbWVyLE1lc3NhZ2UsQUkgUmVwbHksVGltZSxTdGF0dXMnKVxyXG4gICAgICAgIGRhc2hib2FyZERhdGEucmVjZW50Q29udmVyc2F0aW9ucz8uZm9yRWFjaCgoY29udikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gY29udi5tZXNzYWdlPy5yZXBsYWNlKC8sL2csICc7JykgfHwgJydcclxuICAgICAgICAgICAgY29uc3QgcmVwbHkgPSBjb252LnJlcGx5Py5yZXBsYWNlKC8sL2csICc7JykgfHwgJydcclxuICAgICAgICAgICAgY3N2TGluZXMucHVzaChgJHtjb252LmN1c3RvbWVyTmFtZX0sJHttZXNzYWdlfSwke3JlcGx5fSwke2NvbnYudGltZX0sJHtjb252LnN0YXR1c31gKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY3N2TGluZXMucHVzaCgnJylcclxuXHJcbiAgICAgICAgLy8gQ2hhcnQgZGF0YVxyXG4gICAgICAgIGlmIChkYXNoYm9hcmREYXRhLmNoYXJ0cz8ubWVzc2FnZVZvbHVtZSkge1xyXG4gICAgICAgICAgICBjc3ZMaW5lcy5wdXNoKCdNRVNTQUdFIFZPTFVNRSAoNyBEQVlTKScpXHJcbiAgICAgICAgICAgIGNzdkxpbmVzLnB1c2goJ0RheSxNZXNzYWdlcycpXHJcbiAgICAgICAgICAgIGRhc2hib2FyZERhdGEuY2hhcnRzLm1lc3NhZ2VWb2x1bWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3N2TGluZXMucHVzaChgJHtpdGVtLmRheX0sJHtpdGVtLm1lc3NhZ2VzfWApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNzdkxpbmVzLnB1c2goJycpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGFzaGJvYXJkRGF0YS5jaGFydHM/LnBlYWtIb3Vycykge1xyXG4gICAgICAgICAgICBjc3ZMaW5lcy5wdXNoKCdQRUFLIEhPVVJTJylcclxuICAgICAgICAgICAgY3N2TGluZXMucHVzaCgnSG91cixDb3VudCcpXHJcbiAgICAgICAgICAgIGRhc2hib2FyZERhdGEuY2hhcnRzLnBlYWtIb3Vycy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjc3ZMaW5lcy5wdXNoKGAke2l0ZW0uaG91cn0sJHtpdGVtLmNvdW50fWApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYW5kIGRvd25sb2FkXHJcbiAgICAgICAgY29uc3QgY3N2Q29udGVudCA9IGNzdkxpbmVzLmpvaW4oJ1xcbicpXHJcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjc3ZDb250ZW50XSwgeyB0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtODsnIH0pXHJcbiAgICAgICAgZG93bmxvYWRGaWxlKGJsb2IsIGBzYWxlc3RyYS1kYXNoYm9hcmQtJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0uY3N2YClcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQ1NWIGV4cG9ydCBlcnJvcjonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFRvUERGKGRhc2hib2FyZERhdGE6IERhc2hib2FyZERhdGEsIHRpbWVSYW5nZTogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRvYyA9IG5ldyBqc1BERigpXHJcblxyXG4gICAgICAgIC8vIFRpdGxlIGFuZCBIZWFkZXJcclxuICAgICAgICBkb2Muc2V0Rm9udFNpemUoMjApXHJcbiAgICAgICAgZG9jLnNldFRleHRDb2xvcigxNiwgMTg1LCAxMjkpIC8vIEVtZXJhbGQgY29sb3JcclxuICAgICAgICBkb2MudGV4dCgnU2FsZXN0cmEgRGFzaGJvYXJkIFJlcG9ydCcsIDIwLCAyMClcclxuXHJcbiAgICAgICAgZG9jLnNldEZvbnRTaXplKDEwKVxyXG4gICAgICAgIGRvYy5zZXRUZXh0Q29sb3IoMTAwLCAxMDAsIDEwMClcclxuICAgICAgICBkb2MudGV4dChgQnVzaW5lc3M6ICR7ZGFzaGJvYXJkRGF0YS5idXNpbmVzc05hbWUgfHwgJ04vQSd9YCwgMjAsIDMwKVxyXG4gICAgICAgIGRvYy50ZXh0KGBHZW5lcmF0ZWQ6ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfWAsIDIwLCAzNilcclxuICAgICAgICBkb2MudGV4dChgVGltZSBSYW5nZTogJHt0aW1lUmFuZ2V9YCwgMjAsIDQyKVxyXG5cclxuICAgICAgICAvLyBNZXRyaWNzIFNlY3Rpb25cclxuICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTQpXHJcbiAgICAgICAgZG9jLnNldFRleHRDb2xvcigwLCAwLCAwKVxyXG4gICAgICAgIGRvYy50ZXh0KCdLZXkgTWV0cmljcycsIDIwLCA1NSlcclxuXHJcbiAgICAgICAgY29uc3QgbWV0cmljc0RhdGEgPSBbXHJcbiAgICAgICAgICAgIFsnTWV0cmljJywgJ1RvZGF5JywgJ0NoYW5nZSddLFxyXG4gICAgICAgICAgICBbJ0NvbnZlcnNhdGlvbnMnLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKGRhc2hib2FyZERhdGEubWV0cmljcz8uY29udmVyc2F0aW9ucz8udG9kYXkgfHwgMCksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5jb252ZXJzYXRpb25zPy5jaGFuZ2UgfHwgMClcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgWydMZWFkcyBDYXB0dXJlZCcsXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5sZWFkcz8udG9kYXkgfHwgMCksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5sZWFkcz8uY2hhbmdlIHx8IDApXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFsnTWVzc2FnZXMnLFxyXG4gICAgICAgICAgICAgICAgU3RyaW5nKGRhc2hib2FyZERhdGEubWV0cmljcz8ucHJvZHVjdHNBc2tlZD8udG9kYXkgfHwgMCksXHJcbiAgICAgICAgICAgICAgICBTdHJpbmcoZGFzaGJvYXJkRGF0YS5tZXRyaWNzPy5wcm9kdWN0c0Fza2VkPy5jaGFuZ2UgfHwgMClcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgWydBdmcgUmVzcG9uc2UgVGltZScsXHJcbiAgICAgICAgICAgICAgICBgJHtkYXNoYm9hcmREYXRhLm1ldHJpY3M/LmF2Z1Jlc3BvbnNlPy50b2RheSB8fCAnMCd9c2AsXHJcbiAgICAgICAgICAgICAgICBgJHtkYXNoYm9hcmREYXRhLm1ldHJpY3M/LmF2Z1Jlc3BvbnNlPy5jaGFuZ2UgfHwgJzAnfXNgXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIGF1dG9UYWJsZShkb2MsIHtcclxuICAgICAgICAgICAgaGVhZDogW21ldHJpY3NEYXRhWzBdXSxcclxuICAgICAgICAgICAgYm9keTogbWV0cmljc0RhdGEuc2xpY2UoMSksXHJcbiAgICAgICAgICAgIHN0YXJ0WTogNjAsXHJcbiAgICAgICAgICAgIHRoZW1lOiAnZ3JpZCcsXHJcbiAgICAgICAgICAgIGhlYWRTdHlsZXM6IHsgZmlsbENvbG9yOiBbMTYsIDE4NSwgMTI5XSB9LFxyXG4gICAgICAgICAgICBzdHlsZXM6IHsgZm9udFNpemU6IDEwIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBNZXNzYWdlIFZvbHVtZSBDaGFydCBEYXRhXHJcbiAgICAgICAgaWYgKGRhc2hib2FyZERhdGEuY2hhcnRzPy5tZXNzYWdlVm9sdW1lICYmIGRhc2hib2FyZERhdGEuY2hhcnRzLm1lc3NhZ2VWb2x1bWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBmaW5hbFkgPSAoZG9jIGFzIGFueSkubGFzdEF1dG9UYWJsZS5maW5hbFkgfHwgMTAwXHJcblxyXG4gICAgICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTQpXHJcbiAgICAgICAgICAgIGRvYy50ZXh0KCc3LURheSBNZXNzYWdlIFZvbHVtZScsIDIwLCBmaW5hbFkgKyAxNSlcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZURhdGEgPSBbXHJcbiAgICAgICAgICAgICAgICBbJ0RheScsICdNZXNzYWdlcyddLFxyXG4gICAgICAgICAgICAgICAgLi4uZGFzaGJvYXJkRGF0YS5jaGFydHMubWVzc2FnZVZvbHVtZS5tYXAoaXRlbSA9PiBbXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXksXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKGl0ZW0ubWVzc2FnZXMpXHJcbiAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICBhdXRvVGFibGUoZG9jLCB7XHJcbiAgICAgICAgICAgICAgICBoZWFkOiBbdm9sdW1lRGF0YVswXV0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiB2b2x1bWVEYXRhLnNsaWNlKDEpLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRZOiBmaW5hbFkgKyAyMCxcclxuICAgICAgICAgICAgICAgIHRoZW1lOiAnc3RyaXBlZCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkU3R5bGVzOiB7IGZpbGxDb2xvcjogWzE2LCAxODUsIDEyOV0gfSxcclxuICAgICAgICAgICAgICAgIHN0eWxlczogeyBmb250U2l6ZTogMTAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGVhayBIb3Vyc1xyXG4gICAgICAgIGlmIChkYXNoYm9hcmREYXRhLmNoYXJ0cz8ucGVha0hvdXJzICYmIGRhc2hib2FyZERhdGEuY2hhcnRzLnBlYWtIb3Vycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsWSA9IChkb2MgYXMgYW55KS5sYXN0QXV0b1RhYmxlLmZpbmFsWSB8fCAxNTBcclxuXHJcbiAgICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSgxNClcclxuICAgICAgICAgICAgZG9jLnRleHQoJ1BlYWsgSG91cnMgRGlzdHJpYnV0aW9uJywgMjAsIGZpbmFsWSArIDE1KVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcGVha0RhdGEgPSBbXHJcbiAgICAgICAgICAgICAgICBbJ0hvdXInLCAnTWVzc2FnZSBDb3VudCddLFxyXG4gICAgICAgICAgICAgICAgLi4uZGFzaGJvYXJkRGF0YS5jaGFydHMucGVha0hvdXJzLm1hcChpdGVtID0+IFtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmhvdXIsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKGl0ZW0uY291bnQpXHJcbiAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICBhdXRvVGFibGUoZG9jLCB7XHJcbiAgICAgICAgICAgICAgICBoZWFkOiBbcGVha0RhdGFbMF1dLFxyXG4gICAgICAgICAgICAgICAgYm9keTogcGVha0RhdGEuc2xpY2UoMSksXHJcbiAgICAgICAgICAgICAgICBzdGFydFk6IGZpbmFsWSArIDIwLFxyXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdzdHJpcGVkJyxcclxuICAgICAgICAgICAgICAgIGhlYWRTdHlsZXM6IHsgZmlsbENvbG9yOiBbMTYsIDE4NSwgMTI5XSB9LFxyXG4gICAgICAgICAgICAgICAgc3R5bGVzOiB7IGZvbnRTaXplOiAxMCB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZWNlbnQgQ29udmVyc2F0aW9ucyAobmV3IHBhZ2UgaWYgbmVlZGVkKVxyXG4gICAgICAgIGlmIChkYXNoYm9hcmREYXRhLnJlY2VudENvbnZlcnNhdGlvbnMgJiYgZGFzaGJvYXJkRGF0YS5yZWNlbnRDb252ZXJzYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZG9jLmFkZFBhZ2UoKVxyXG5cclxuICAgICAgICAgICAgZG9jLnNldEZvbnRTaXplKDE0KVxyXG4gICAgICAgICAgICBkb2MudGV4dCgnUmVjZW50IENvbnZlcnNhdGlvbnMnLCAyMCwgMjApXHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zRGF0YSA9IFtcclxuICAgICAgICAgICAgICAgIFsnQ3VzdG9tZXInLCAnTWVzc2FnZScsICdBSSBSZXBseScsICdUaW1lJ10sXHJcbiAgICAgICAgICAgICAgICAuLi5kYXNoYm9hcmREYXRhLnJlY2VudENvbnZlcnNhdGlvbnMuc2xpY2UoMCwgMTApLm1hcChjb252ID0+IFtcclxuICAgICAgICAgICAgICAgICAgICBjb252LmN1c3RvbWVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjb252Lm1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDUwKSArIChjb252Lm1lc3NhZ2UubGVuZ3RoID4gNTAgPyAnLi4uJyA6ICcnKSxcclxuICAgICAgICAgICAgICAgICAgICBjb252LnJlcGx5LnN1YnN0cmluZygwLCA1MCkgKyAoY29udi5yZXBseS5sZW5ndGggPiA1MCA/ICcuLi4nIDogJycpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnYudGltZVxyXG4gICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgXVxyXG5cclxuICAgICAgICAgICAgYXV0b1RhYmxlKGRvYywge1xyXG4gICAgICAgICAgICAgICAgaGVhZDogW2NvbnZlcnNhdGlvbnNEYXRhWzBdXSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IGNvbnZlcnNhdGlvbnNEYXRhLnNsaWNlKDEpLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRZOiAyNSxcclxuICAgICAgICAgICAgICAgIHRoZW1lOiAnZ3JpZCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkU3R5bGVzOiB7IGZpbGxDb2xvcjogWzE2LCAxODUsIDEyOV0gfSxcclxuICAgICAgICAgICAgICAgIHN0eWxlczogeyBmb250U2l6ZTogOCwgY2VsbFBhZGRpbmc6IDIgfSxcclxuICAgICAgICAgICAgICAgIGNvbHVtblN0eWxlczoge1xyXG4gICAgICAgICAgICAgICAgICAgIDA6IHsgY2VsbFdpZHRoOiAzMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIDE6IHsgY2VsbFdpZHRoOiA2MCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIDI6IHsgY2VsbFdpZHRoOiA2MCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIDM6IHsgY2VsbFdpZHRoOiAzMCB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGb290ZXIgb24gYWxsIHBhZ2VzXHJcbiAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gZG9jLmdldE51bWJlck9mUGFnZXMoKVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHBhZ2VDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRvYy5zZXRQYWdlKGkpXHJcbiAgICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSg4KVxyXG4gICAgICAgICAgICBkb2Muc2V0VGV4dENvbG9yKDE1MCwgMTUwLCAxNTApXHJcbiAgICAgICAgICAgIGRvYy50ZXh0KFxyXG4gICAgICAgICAgICAgICAgYFBhZ2UgJHtpfSBvZiAke3BhZ2VDb3VudH0g4oCiIFBvd2VyZWQgYnkgU2FsZXN0cmFgLFxyXG4gICAgICAgICAgICAgICAgZG9jLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIGRvYy5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQgLSAxMCxcclxuICAgICAgICAgICAgICAgIHsgYWxpZ246ICdjZW50ZXInIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2F2ZSBQREZcclxuICAgICAgICBkb2Muc2F2ZShgc2FsZXN0cmEtZGFzaGJvYXJkLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19LnBkZmApXHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BERiBleHBvcnQgZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRvd25sb2FkRmlsZShibG9iOiBCbG9iLCBmaWxlbmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpXHJcbiAgICBsaW5rLmhyZWYgPSB1cmxcclxuICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZVxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKVxyXG4gICAgbGluay5jbGljaygpXHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspXHJcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybClcclxufVxyXG4iXSwibmFtZXMiOlsianNQREYiLCJhdXRvVGFibGUiLCJleHBvcnRUb0NTViIsImRhc2hib2FyZERhdGEiLCJ0aW1lUmFuZ2UiLCJjc3ZMaW5lcyIsInB1c2giLCJidXNpbmVzc05hbWUiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJtZXRyaWNzIiwiY29udmVyc2F0aW9ucyIsInRvZGF5IiwiY2hhbmdlIiwibGVhZHMiLCJwcm9kdWN0c0Fza2VkIiwiYXZnUmVzcG9uc2UiLCJyZWNlbnRDb252ZXJzYXRpb25zIiwiZm9yRWFjaCIsImNvbnYiLCJtZXNzYWdlIiwicmVwbGFjZSIsInJlcGx5IiwiY3VzdG9tZXJOYW1lIiwidGltZSIsInN0YXR1cyIsImNoYXJ0cyIsIm1lc3NhZ2VWb2x1bWUiLCJpdGVtIiwiZGF5IiwibWVzc2FnZXMiLCJwZWFrSG91cnMiLCJob3VyIiwiY291bnQiLCJjc3ZDb250ZW50Iiwiam9pbiIsImJsb2IiLCJCbG9iIiwidHlwZSIsImRvd25sb2FkRmlsZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJlcnJvciIsImNvbnNvbGUiLCJleHBvcnRUb1BERiIsImRvYyIsInNldEZvbnRTaXplIiwic2V0VGV4dENvbG9yIiwidGV4dCIsIm1ldHJpY3NEYXRhIiwiU3RyaW5nIiwiaGVhZCIsImJvZHkiLCJzbGljZSIsInN0YXJ0WSIsInRoZW1lIiwiaGVhZFN0eWxlcyIsImZpbGxDb2xvciIsInN0eWxlcyIsImZvbnRTaXplIiwibGVuZ3RoIiwiZmluYWxZIiwibGFzdEF1dG9UYWJsZSIsInZvbHVtZURhdGEiLCJtYXAiLCJwZWFrRGF0YSIsImFkZFBhZ2UiLCJjb252ZXJzYXRpb25zRGF0YSIsInN1YnN0cmluZyIsImNlbGxQYWRkaW5nIiwiY29sdW1uU3R5bGVzIiwiY2VsbFdpZHRoIiwicGFnZUNvdW50IiwiZ2V0TnVtYmVyT2ZQYWdlcyIsImkiLCJzZXRQYWdlIiwiaW50ZXJuYWwiLCJwYWdlU2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWxpZ24iLCJzYXZlIiwiZmlsZW5hbWUiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaHJlZiIsImRvd25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/export-utils.ts\n");

/***/ })

};
;